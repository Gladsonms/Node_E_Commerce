


<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script src="https://kit.fontawesome.com/4f9ff9a3d7.js" crossorigin="anonymous"></script>
  
  		<link rel="stylesheet" href="https://unpkg.com/dropzone/dist/dropzone.css" />
		<link href="https://unpkg.com/cropperjs/dist/cropper.css" rel="stylesheet"/>

	<script src="https://unpkg.com/dropzone"></script>
		<script src="https://unpkg.com/cropperjs"></script>

        <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>

  <style>
    .preview {
        overflow: hidden;
        width: 160px;
        height: 160px;
        margin: 10px;
        border: 1px solid red;
    }
    .modal-lg {
        max-width: 1000px !important;
    }
    
    .btn-file {
        position: relative;
        overflow: hidden;
    }
    .btn-file input[type=file] {
        position: absolute;
        top: 0;
        right: 0;
        min-width: 100%;
        min-height: 100%;
        font-size: 100px;
        text-align: right;
        filter: alpha(opacity=0);
        opacity: 0;
        outline: none;
        background: white;
        cursor: inherit;
        display: block;
    }
    #img-upload ,#img-upload2,#img-upload3,#img-upload4 {
        width: 100%;
    }
</style>





 <div class="app-main" id="main">
                    <!-- begin container-fluid -->
                    <div class="container-fluid">
                        <!-- begin row -->
                        <div class="row">
                            <div class="col-md-12 m-b-30">
                                <!-- begin page title -->
                                <div class="d-block d-sm-flex flex-nowrap align-items-center">
                                    <div class="page-title mb-2 mb-sm-0">
                                        <h1>Elements</h1>
                                    </div>
                                    <div class="ml-auto d-flex align-items-center">
                                       
                                    </div>
                                </div>
                                <!-- end page title -->
                            </div>
                        </div>
                        <!-- end row -->
                        <!-- begin row -->
                        <div class="row">
                          
                          
                         
                          
                         
                            
                           
                           
                          
                            <div class="col-md-12">
                                <div class="card card-statistics">
                                    <div class="card-header">
                                         <div class="card-heading">
                                            <h4 class="card-title">File Browser</h4>
                                        
                                        </div>
                                </div>
                                <div class="card-body">
                                    <form action="/admin/addbanner" id="addbanner" method="post" enctype="multipart/form-data">
                                                       <div class="col-md-2 col-sm-2">
            <h4 class="title"> Image 1</h4>
            <div class="fileinput fileinput-new text-center">
                <div class="fileinput-new thumbnail">
                    
                    <img src="/banner-images/banner1.jpg" id="chekPreview1" alt="Upload image here">
                    <p class="text-danger" id="image1Error"></p>

                </div>
                <div>
                    <span class="btn btn-rose btn-round btn-file">
                        <span class="fileinput-new">Select image</span>
                        <input type="file" id="image1" accept="image/gif, image/jpeg, image/png" name="productimage1"    />
                        <textarea name="image1_b64" id="imageValue1" cols="30" rows="10" hidden></textarea>
                    </span>
                </div>
                 <span id="error"></span>
            </div>
        </div>

     {{!-- item 1 end--}}



      {{!-- item 2 start --}}
        <div class="col-md-2 col-sm-2">
            <h4 class="title"> Image 2</h4>
            <div class="fileinput fileinput-new text-center">
                <div class="fileinput-new thumbnail">
                    <img src="/banner-images/banner2.jpg" id="chekPreview2" alt="...">

                </div>
                <div>
                    <span class="btn btn-rose btn-round btn-file">
                        <span class="fileinput-new">Select image</span>
                        <input type="file" id="image2" accept="image/gif, image/jpeg, image/png" name="productimage2"   />
                        <p class="text-danger" id="image2rror"></p>
                        <textarea name="image2_b64" id="imageValue2" cols="30" rows="10" hidden></textarea>
                    </span>
                </div>
                 <span id="error1"></span>
            </div>
        </div>

     {{!-- item 2 end--}}


    {{!-- item 3 start --}}
        <div class="col-md-2 col-sm-2">
            <h4 class="title"> Image 3</h4>
            <div class="fileinput fileinput-new text-center">
                <div class="fileinput-new thumbnail">
                    <img src="/banner-images/banner1.jpg" id="chekPreview3" alt="...">

                </div>
                <div>
                    <span class="btn btn-rose btn-round btn-file">
                        <span class="fileinput-new">Select image</span>
                        <input type="file" id="image3" accept="image/gif, image/jpeg, image/png" name="productimage3"   />
                        <p class="text-danger" id="image3Error"></p>
                        <textarea name="image3_b64" id="imageValue3" cols="30" rows="10" hidden></textarea>
                    </span>
                </div>
                 <span id="error2"></span>
            </div>
                 <div class="submit  "> <button class="btn btn-primary mb-3 ml-3  mt-2" type="submit"> Submit</button></div>

        </div>

     {{!-- item 3 end--}} 
     
                                    </form>
                          



     <!-- Modal 1-->
<div class="modal" id="modal1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Crop Image Here</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="img-container">
                    <div class="row">
                        <div class="col-md-8">
                            <img src="" id="sampleImage1" style="width: 150px;" />
                        </div>
                        <div class="col-md-4">
                            <div class="preview" id="preview1"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">

                <button type="button" id="crop1" class="btn btn-primary">Crop</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>

            </div>
        </div>
    </div>
</div>
<!-- Modal  1 end-->



<!-- Modal 2-->
<div class="modal" id="modal2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Crop Image Here</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="img-container">
                    <div class="row">
                        <div class="col-md-8">
                            <img src="" id="sampleImage2" style="width: 150px;"  />
                        </div>
                        <div class="col-md-4">
                            <div class="preview" id="preview2"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">

                <button type="button" id="crop2" class="btn btn-primary">Crop</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>

            </div>
        </div>
    </div>
</div>
<!-- Modal  2 end-->


<!-- Modal 3-->
<div class="modal" id="modal3" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Crop Image Here</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="img-container">
                    <div class="row">
                        <div class="col-md-8">
                            <img src="" id="sampleImage3" style="width: 150px;"  />
                        </div>
                        <div class="col-md-4">
                            <div class="preview" id="preview3"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">

                <button type="button" id="crop3" class="btn btn-primary">Crop</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>

            </div>
        </div>
    </div>
</div>
<!-- Modal  3 end-->

                                </div>
                            
                            </div>
                        </div>
                        <!-- end row -->
                    </div>
                    <!-- end container-fluid -->
                </div>



                <script>
//image 1
    var imgformat1;var imgformat2;var imgformat3; 
document.getElementById("image1").onchange=e=>{
    value=e.target.files[0]
    value=value.type
    if(value=="image/jpeg"||value=="image/jpg"||value=="image/png"){
        imgformat1=true
  var image1 = document.getElementById('sampleImage1');
    var modal1 = $('#modal1');
    var cropper1;
        var files = event.target.files;
        var done = function (url) {
            image1.src = url;
            modal1.modal('show');
        };
        if (files && files.length > 0) {
            reader = new FileReader();
            reader.onload = function (event) {
                done(reader.result);
            };
            reader.readAsDataURL(files[0]);
        }
    
    modal1.on('shown.bs.modal', function () {
        cropper1 = new Cropper(image1, {
            aspectRatio: 2.18,
            viewMode: 1,
            preview: '#preview1'
        });
    }).on('hidden.bs.modal', function () {
        cropper1.destroy();
        cropper1 = null;
    });
    $('#crop1').click(function () {
        canvas = cropper1.getCroppedCanvas({
            width: 600,
            height: 600
        });
        canvas.toBlob(function (blob) {
            url = URL.createObjectURL(blob);
            var reader = new FileReader();
            reader.readAsDataURL(blob);
            reader.onloadend = function () {
                var base64data = reader.result;
             
                
                modal1.modal('hide');
                $("#imageValue1").val(base64data)
                $('#chekPreview1').attr('src', base64data);
            };
        });
    });
    }else{
        imgformat1=false;
        document.getElementById('error').innerHTML ="Can only select Image"
    }
}

//image 2
document.getElementById("image2").onchange=e=>{
    value=e.target.files[0]
    value=value.type
    if(value=="image/jpeg"||value=="image/jpg"||value=="image/png"){

 var image2 = document.getElementById('sampleImage2');
    var modal2 = $('#modal2');
    var cropper2;
  imgformat2=true
        var files = event.target.files;
        var done = function (url) {
            image2.src = url;
            modal2.modal('show');
        };
        if (files && files.length > 0) {
            reader = new FileReader();
            reader.onload = function (event) {
                done(reader.result);
            };
            reader.readAsDataURL(files[0]);
        }
    modal2.on('shown.bs.modal', function () {
        cropper2 = new Cropper(image2, {
            aspectRatio: 2.18,
            viewMode: 1,
            preview: '#preview2'
        });
    }).on('hidden.bs.modal', function () {
        cropper2.destroy();
        cropper2 = null;
    });
    $('#crop2').click(function () {
        canvas = cropper2.getCroppedCanvas({
            width: 600,
            height: 600
        });
        canvas.toBlob(function (blob) {
            url = URL.createObjectURL(blob);
            var reader = new FileReader();
            reader.readAsDataURL(blob);
            reader.onloadend = function () {
                var base64data = reader.result;
                modal2.modal('hide');
                $("#imageValue2").val(base64data)
                $('#chekPreview2').attr('src', base64data);
            };
        });
    });
    }else{ 
        imgformat2=false;
         document.getElementById('error1').innerHTML ="Can only select Image"
    }
    }





    $('document').ready(function() {

//modal3 and image 3 start
   document.getElementById("image3").onchange=e=>{
    value=e.target.files[0]
    value=value.type
    if(value=="image/jpeg"||value=="image/jpg"||value=="image/png"){
       
  var image3 = document.getElementById('sampleImage3');
    var modal3 = $('#modal3');
    var cropper3;
     imgformat3=true
        var files = event.target.files;
        var done = function (url) {
            image3.src = url;
            modal3.modal('show');
        };
        if (files && files.length > 0) {
            reader = new FileReader();
            reader.onload = function (event) {
                done(reader.result);
            };
            reader.readAsDataURL(files[0]);
        }
    
    modal3.on('shown.bs.modal', function () {
        cropper3 = new Cropper(image3, {
            aspectRatio: 2.18,
            viewMode: 1,
            preview: '#preview3'
        });
    }).on('hidden.bs.modal', function () {
        cropper3.destroy();
        cropper3 = null;
    });
    $('#crop3').click(function () {
        canvas = cropper3.getCroppedCanvas({
            width: 600,
            height: 600
        });
        canvas.toBlob(function (blob) {
            url = URL.createObjectURL(blob);
            var reader = new FileReader();
            reader.readAsDataURL(blob);
            reader.onloadend = function () {
                var base64data = reader.result;
                modal3.modal('hide');
                $("#imageValue3").val(base64data)
                $('#chekPreview3').attr('src', base64data);
            };
        });
    });
    }else{
        imgformat3=false;
        document.getElementById('error2').innerHTML ="Can only select Image"
    }
}
//image 3 and modal 3 end

    })

    

                </script>
                <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>